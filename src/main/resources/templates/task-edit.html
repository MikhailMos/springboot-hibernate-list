<!DOCTYPE html>
<html lang="ru" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Редактировать</title>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
</head>
<body class="w3-light-grey">
<div th:insert="~{fragments/header :: header}"></div>
<div class="w3-container w3-padding">
  <div class="w3-card-4">
    <div class="w3-container w3-center w3-green">
      <h2>Редактирование задачи</h2>
    </div>
    <form class="w3-selection w3-light-grey w3-padding" method="post" th:action="@{/edit/{id}(id=${task.id})}" th:object="${task}">
      <p>
        <label for="id">id</label>
        <input type="number"
               id="id"
               name="id"
               class="w3-input w3-border w3-round-large"
               style="width: 30%"
               th:field="*{id}"
               readonly>
      </p>
      <p>
        <label for="description">Описание задачи</label>
        <input type="text"
               id="description"
               name="description"
               class="w3-input w3-animate-input w3-border w3-round-large"
               style="width: 30%"
               placeholder="Описание задачи"
               th:field = "*{description}"
               required
               autofocus>
      </p>
      <p>
        <label for="status">Статус</label><br>
        <select class="w3-select w3-border w3-round-large w3-animate-input"
                id="status"
                name="status"
                style="width: 30%"
                th:field = "*{status}">
          <option th:each="curr_status : ${statuses}"
                  th:value="${curr_status}"
                  th:text="${curr_status}"
                  th:selected="${curr_status == status}">
          </option>
        </select>
      </p>
      <button type="submit" class="w3-btn w3-green w3-round-large w3-margin-bottom">Изменить</button>
    </form>
  </div>
</div>

<!--<div th:if="${errorMessage}" id="message" class="w3-panel w3-display-container w3-red">
        <span onclick="this.parentElement.style.display='none'"
              class="w3-button w3-large w3-display-topright">&times;</span>
  <h3>Ошибка!</h3>
  <p th:text="${errorMessage}"></p>
</div>-->
<div th:replace="~{fragments/message :: message}"></div>

<div class="w3-container w3-grey w3-opacity w3-right-align w3-padding">
  <button class="w3-btn w3-round-large" onclick="location.href='/'">Назад</button>
</div>
</body>
</html>